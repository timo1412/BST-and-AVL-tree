<Window x:Class="SemestralnaPracaAUS2.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SemestralnaPracaAUS2"
        mc:Ignorable="d"
        Title="Semestrálna práca AUS2"
        WindowState="Maximized"
        ResizeMode="CanResize">

    <Grid>
        <!-- 1/5 : 4/5 rozdelenie -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <!-- ľavý panel (1/5) -->
            <ColumnDefinition Width="4*" />
            <!-- pravá plocha (4/5) -->
        </Grid.ColumnDefinitions>

        <!-- ĽAVÝ OVLÁDACÍ PANEL -->
        <Border Grid.Column="0" Background="#FFF7F7F7" Padding="16" BorderBrush="#FFE0E0E0" BorderThickness="0,0,1,0">
            <StackPanel Orientation="Vertical" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" 
                        Margin="0" 
                        >
                <TextBlock Text="Ovládanie" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,12"/>

                <ComboBox x:Name="cmbOperacia"
                          SelectedIndex="-1"
                          Margin="0,0,0,12" SelectionChanged="cmbOperacia_SelectionChanged">

                    <ComboBoxItem>
                        <TextBlock Text="Vloženie výsledku PCR testu do systému."/>
                    </ComboBoxItem>

                    <ComboBoxItem>
                        <TextBlock Text="Vyhľadanie výsledku testu pre pacienta a zobrazenie všetkých údajov."/>
                    </ComboBoxItem>

                    <ComboBoxItem>
                        <TextBlock Text="Výpis všetkých uskutočnených PCR testov pre daného pacienta">
                            <TextBlock.ToolTip>
                                <ToolTip Content="usporiadaných podľa dátumu a času ich vykonania"/>
                            </TextBlock.ToolTip>
                        </TextBlock>
                    </ComboBoxItem>

                    <ComboBoxItem>
                        <TextBlock Text="Výpis všetkých pozitívnych testov uskutočnených za zadané časové obdobie pre zadaný okres.">
                            <TextBlock.ToolTip>
                                <ToolTip Content="obdobie pre zadaný okres"/>
                            </TextBlock.ToolTip>
                        </TextBlock>
                    </ComboBoxItem>

                    <ComboBoxItem>
                        <TextBlock Text="Výpis všetkých testov uskutočnených za zadané časové obdobie pre zadaný okres."/>
                    </ComboBoxItem>

                    <ComboBoxItem>
                        <TextBlock Text="Výpis všetkých pozitívnych testov uskutočnených za zadané časové obdobie pre zadaný kraj."/>
                    </ComboBoxItem>

                    <ComboBoxItem>
                        <TextBlock Text="Výpis všetkých testov uskutočnených za zadané časové obdobie pre zadaný kraj."/>
                    </ComboBoxItem>

                    <ComboBoxItem>
                        <TextBlock Text="Výpis všetkých pozitívnych testov uskutočnených za zadané časové obdobie."/>
                    </ComboBoxItem>

                    <ComboBoxItem>
                        <TextBlock Text="Výpis všetkých testov uskutočnených za zadané časové obdobie."/>
                    </ComboBoxItem>

                    <ComboBoxItem>
                        <TextBlock Text="Výpis chorých osôb v okrese k zadanému dátumu">
                            <TextBlock.ToolTip>
                                <ToolTip Content="pričom osobu považujeme za chorú X dní od pozitívneho testu X zadá užívateľ"/>
                            </TextBlock.ToolTip>
                        </TextBlock>
                    </ComboBoxItem>

                    <ComboBoxItem>
                        <TextBlock Text="Výpis chorých osôb v okrese k zadanému dátumu">
                            <TextBlock.ToolTip>
                                <ToolTip Content="pričom osobu považujeme za chorú X dní od pozitívneho testu, pričom choré osoby sú usporiadané podľa hodnoty testu."/>
                            </TextBlock.ToolTip>
                        </TextBlock>
                    </ComboBoxItem>

                    <ComboBoxItem>
                        <TextBlock Text="Výpis chorých osôb v kraji k zadanému dátumu">
                            <TextBlock.ToolTip>
                                <ToolTip Content="pričom osobu považujeme za chorú X dní od pozitívneho testu X zadá užívateľ"/>
                            </TextBlock.ToolTip>
                        </TextBlock>
                    </ComboBoxItem>

                    <ComboBoxItem>
                        <TextBlock Text="Výpis chorých osôb k zadanému dátumu">
                            <TextBlock.ToolTip>
                                <ToolTip Content="pričom osobu považujeme za chorú X dní od pozitívneho testu."/>
                            </TextBlock.ToolTip>
                        </TextBlock>
                    </ComboBoxItem>

                    <ComboBoxItem>
                        <TextBlock Text="Výpis jednej chorej osoby k zadanému dátumu">
                            <TextBlock.ToolTip>
                                <ToolTip Content="pričom osobu považujeme za chorú X dní od pozitívneho testu z každého okresu, ktorá má najvyššiu hodnotu testu."/>
                            </TextBlock.ToolTip>
                        </TextBlock>
                    </ComboBoxItem>

                    <ComboBoxItem>
                        <TextBlock Text="Výpis okresov usporiadaných podľa počtu chorých osôb k zadanému dátumu">
                            <TextBlock.ToolTip>
                                <ToolTip Content="pričom osobu považujeme za chorú X dní od pozitívneho testu."/>
                            </TextBlock.ToolTip>
                        </TextBlock>
                    </ComboBoxItem>

                    <ComboBoxItem>
                        <TextBlock Text="Výpis krajov usporiadaných podľa počtu chorých osôb k zadanému dátumu">
                            <TextBlock.ToolTip>
                                <ToolTip Content="pričom osobu považujeme za chorú X dní od pozitívneho testu X zadá užívateľ."/>
                            </TextBlock.ToolTip>
                        </TextBlock>
                    </ComboBoxItem>

                    <ComboBoxItem>
                        <TextBlock Text="Výpis všetkých testov uskutočnených za zadané časové obdobie na danom pracovisku."/>
                    </ComboBoxItem>

                    <ComboBoxItem>
                        <TextBlock Text="Vyhľadanie PCR testu podľa jeho kódu."/>
                    </ComboBoxItem>

                    <ComboBoxItem>
                        <TextBlock Text="Vloženie osoby do systému."/>
                    </ComboBoxItem>

                    <ComboBoxItem>
                        <TextBlock Text="Trvalé a nevratné vymazanie výsledku PCR testu, test je definovaných svojim kódom."/>
                    </ComboBoxItem>

                    <ComboBoxItem>
                        <TextBlock Text="Vymazanie osoby zo systému aj s jej výsledkami PCR testov."/>
                    </ComboBoxItem>

                    <ComboBoxItem x:Name="cmbRandomFill">
                        <TextBlock Text="Náhodné naplnenie systému — parametre"/>
                    </ComboBoxItem>
                </ComboBox>

                <Button x:Name="btnNacitanieZoSuboru"
                        Content="Načítanie zo súboru"
                        Height="36"
                        Margin="0,0,0,8"
                        Click="BtnNacitanieZoSuboru_Click"/>
               
                <Button x:Name="btnUlozenieDoSuboru"
                        Content="Uloženie do súboru"
                        Height="36"
                        Click="BtnUlozenieDoSuboru_Click"/>

                <Button x:Name="btnVykonanieOperacie"
                        Content="Vykonať operáciu"
                        Height="36"
                        Click="BtnProcessOperation"/>


                <Separator Margin="0,12,0,8"/>

                <Grid x:Name="task1Form" Visibility="Collapsed">
                    <!-- POTREBUJEŠ 8 riadkov (0..7) -->
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <!-- doplnené -->
                    </Grid.RowDefinitions>

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Nadpis -->
                    <TextBlock Grid.Row="0" Grid.ColumnSpan="2"
               Text="Vloženie výsledku PCR testu"
               FontWeight="SemiBold" Margin="0,0,0,8"/>

                    <!-- Dátum a čas -->
                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Dátum:" VerticalAlignment="Center" Margin="0,0,8,6"/>
                    <DatePicker x:Name="dpPcrDate" Grid.Row="1" Grid.Column="1" Margin="0,0,0,6"/>

                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Čas (HH:mm):" VerticalAlignment="Center" Margin="0,0,8,6"/>
                    <TextBox x:Name="tbPcrTime" Grid.Row="2" Grid.Column="1" Margin="0,0,0,12" ToolTip="Zadaj čas vo formáte HH:mm (napr. 14:30)"/>

                    <!-- Kód okresu (int) -->
                    <TextBlock Grid.Row="3" Grid.Column="0" Text="Kód okresu:" VerticalAlignment="Center" Margin="0,0,8,6"/>
                    <TextBox x:Name="tbDistrictCode" Grid.Row="3" Grid.Column="1" Margin="0,0,0,12"/>

                    <!-- Kód kraja (int) -->
                    <TextBlock Grid.Row="4" Grid.Column="0" Text="Kód kraja:" VerticalAlignment="Center" Margin="0,0,8,6"/>
                    <TextBox x:Name="tbRegionCode" Grid.Row="4" Grid.Column="1" Margin="0,0,0,12"/>

                    <!-- Výsledok testu (bool) -->
                    <TextBlock Grid.Row="5" Grid.Column="0" Text="Pozitívny:" VerticalAlignment="Center" Margin="0,0,8,6"/>
                    <CheckBox x:Name="chkResultPositive" Grid.Row="5" Grid.Column="1" Margin="0,0,0,12" Content="Áno"/>

                    <!-- Hodnota testu (double) -->
                    <TextBlock Grid.Row="6" Grid.Column="0" Text="Hodnota testu:" VerticalAlignment="Center" Margin="0,0,8,6"/>
                    <TextBox x:Name="tbTestValue" Grid.Row="6" Grid.Column="1" Margin="0,0,0,12"/>

                    <!-- Poznámka (string) -->
                    <TextBlock Grid.Row="7" Grid.Column="0" Text="Poznámka:" VerticalAlignment="Top" Margin="0,0,8,0"/>
                    <TextBox x:Name="tbNote" Grid.Row="7" Grid.Column="1" Margin="0" AcceptsReturn="True" Height="60" TextWrapping="Wrap"/>
                </Grid>

                <Grid x:Name="randomFillForm" Visibility="Collapsed" Margin="0,8,0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <!-- titul -->
                        <RowDefinition Height="Auto"/>
                        <!-- pocet osob -->
                        <RowDefinition Height="Auto"/>
                        <!-- pocet pcr -->
                        <RowDefinition Height="Auto"/>
                        <!-- datum od -->
                        <RowDefinition Height="Auto"/>
                        <!-- datum do -->
                        <RowDefinition Height="Auto"/>
                        <!-- dayTimeFromText -->
                        <RowDefinition Height="Auto"/>
                        <!-- dayTimeToText -->
                        <RowDefinition Height="Auto"/>
                        <!-- positiveRatio -->
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Nadpis -->
                    <TextBlock Grid.Row="0" Grid.ColumnSpan="2"
               Text="Náhodné naplnenie systému — parametre"
               FontWeight="SemiBold" Margin="0,0,0,8"/>

                    <!-- Počet osôb (int) -->
                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Počet osôb:" VerticalAlignment="Center" Margin="0,0,8,6"/>
                    <TextBox x:Name="tbSeedPersons" Grid.Row="1" Grid.Column="1" Margin="0,0,0,12" />

                    <!-- Počet PCR testov (int) -->
                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Počet PCR testov:" VerticalAlignment="Center" Margin="0,0,8,6"/>
                    <TextBox x:Name="tbSeedPcrCount" Grid.Row="2" Grid.Column="1" Margin="0,0,0,12" />

                    <!-- Dátum od (DateTime) -->
                    <TextBlock Grid.Row="3" Grid.Column="0" Text="Dátum od:" VerticalAlignment="Center" Margin="0,0,8,6"/>
                    <Grid Grid.Row="3" Grid.Column="1" Margin="0,0,0,12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="140"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <DatePicker x:Name="dpSeedFrom" Grid.Column="0"/>
                        <TextBox x:Name="tbSeedFromTime" Grid.Column="1" Width="70" Margin="8,0,0,0" ToolTip="Čas vo formáte HH:mm (napr. 08:00)"/>
                    </Grid>

                    <!-- Dátum do (DateTime) -->
                    <TextBlock Grid.Row="4" Grid.Column="0" Text="Dátum do:" VerticalAlignment="Center" Margin="0,0,8,6"/>
                    <Grid Grid.Row="4" Grid.Column="1" Margin="0,0,0,12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="140"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <DatePicker x:Name="dpSeedTo" Grid.Column="0"/>
                        <TextBox x:Name="tbSeedToTime" Grid.Column="1" Width="70"  Margin="8,0,0,0"  ToolTip="Čas vo formáte HH:mm (napr. 17:30)"/>
                    </Grid>

                    <!-- dayTimeFromText (string) -->
                    <TextBlock Grid.Row="5" Grid.Column="0" Text="dayTimeFromText:" VerticalAlignment="Center" Margin="0,0,8,6"/>
                    <TextBox x:Name="tbSeedDayFrom" Grid.Row="5" Grid.Column="1" Margin="0,0,0,12" ToolTip="Ľubovoľný textový popis začiatku denného intervalu" />

                    <!-- dayTimeToText (string) -->
                    <TextBlock Grid.Row="6" Grid.Column="0" Text="dayTimeToText:" VerticalAlignment="Center" Margin="0,0,8,6"/>
                    <TextBox x:Name="tbSeedDayTo" Grid.Row="6" Grid.Column="1" Margin="0,0,0,12" ToolTip="Ľubovoľný textový popis konca denného intervalu" />

                    <!-- positiveRatio (double) -->
                    <TextBlock Grid.Row="7" Grid.Column="0" Text="Positive ratio (%):" VerticalAlignment="Center" Margin="0,0,8,0"/>
                    <TextBox x:Name="tbSeedPositiveRatio" Grid.Row="7" Grid.Column="1" Margin="0,0,0,0" ToolTip="Percentuálna pozitivita, napr. 12.5 pre 12,5%" />
                </Grid>

                <Grid x:Name="task2Form" Visibility="Collapsed" Margin="0,8,0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <!-- titul -->
                        <RowDefinition Height="Auto"/>
                        <!-- ID pacienta -->
                        <RowDefinition Height="Auto"/>
                        <!-- kód PCR -->
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Nadpis -->
                    <TextBlock Grid.Row="0" Grid.ColumnSpan="2"
               Text="Vyhľadanie výsledku testu pre pacienta"
               FontWeight="SemiBold" Margin="0,0,0,8"/>

                    <!-- Unikátne číslo pacienta (string) -->
                    <TextBlock Grid.Row="1" Grid.Column="0" Text="ID pacienta:" VerticalAlignment="Center" Margin="0,0,8,6"/>
                    <TextBox x:Name="tbFindPersonId" Grid.Row="1" Grid.Column="1" Margin="0,0,0,12"
             ToolTip="Unikátne číslo pacienta (napr. 6 znakov)"/>

                    <!-- Kód PCR testu (int) -->
                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Kód PCR testu:" VerticalAlignment="Center" Margin="0,0,8,0"/>
                    <TextBox x:Name="tbFindPcrCode" Grid.Row="2" Grid.Column="1" Margin="0,0,0,0"
             ToolTip="Celé číslo – kód PCR testu"/>
                </Grid>

                <Grid x:Name="task3Form" Visibility="Collapsed" Margin="0,8,0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <!-- titul -->
                        <RowDefinition Height="Auto"/>
                        <!-- ID pacienta -->
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Row="0" Grid.ColumnSpan="2"
             Text="PCR testy pre osobu (zoradené podľa dátumu/času)"
             FontWeight="SemiBold" Margin="0,0,0,8"/>

                    <TextBlock Grid.Row="1" Grid.Column="0" Text="ID pacienta:" VerticalAlignment="Center" Margin="0,0,8,0"/>
                    <TextBox   Grid.Row="1" Grid.Column="1" x:Name="tbListPersonId" ToolTip="Unikátne číslo pacienta"/>
                </Grid>

                <Grid x:Name="task4Form" Visibility="Collapsed" Margin="0,8,0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <!-- titul -->
                        <RowDefinition Height="Auto"/>
                        <!-- datum od -->
                        <RowDefinition Height="Auto"/>
                        <!-- datum do -->
                        <RowDefinition Height="Auto"/>
                        <!-- kod okresu -->
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Nadpis -->
                    <TextBlock Grid.Row="0" Grid.ColumnSpan="2"
               Text="Pozitívne testy – časové obdobie a okres"
               FontWeight="SemiBold" Margin="0,0,0,8"/>

                    <!-- Dátum od (DateTime) -->
                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Dátum od:" VerticalAlignment="Center" Margin="0,0,8,6"/>
                    <Grid Grid.Row="1" Grid.Column="1" Margin="0,0,0,12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="140"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <DatePicker x:Name="dpPosOkresFrom" Grid.Column="0"/>
                        <TextBox x:Name="tbPosOkresFromTime" Grid.Column="1" Width="70"
                 Margin="8,0,0,0" ToolTip="Čas vo formáte HH:mm (napr. 00:00)"/>
                    </Grid>

                    <!-- Dátum do (DateTime) -->
                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Dátum do:" VerticalAlignment="Center" Margin="0,0,8,6"/>
                    <Grid Grid.Row="2" Grid.Column="1" Margin="0,0,0,12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="140"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <DatePicker x:Name="dpPosOkresTo" Grid.Column="0"/>
                        <TextBox x:Name="tbPosOkresToTime" Grid.Column="1" Width="70"
                 Margin="8,0,0,0" ToolTip="Čas vo formáte HH:mm (napr. 23:59)"/>
                    </Grid>

                    <!-- Kód okresu (int) -->
                    <TextBlock Grid.Row="3" Grid.Column="0" Text="Kód okresu:" VerticalAlignment="Center" Margin="0,0,8,0"/>
                    <TextBox x:Name="tbPosOkresDistrict" Grid.Row="3" Grid.Column="1"
             ToolTip="Celé číslo – kód okresu"/>
                </Grid>


                <!-- rozťahovač pre odtlačenie prípadných budúcich prvkov dole -->
                <StackPanel.Height>
                    <Binding RelativeSource="{RelativeSource AncestorType=Grid}" Path="ActualHeight"/>
                </StackPanel.Height>
            </StackPanel>
        </Border>

        <!-- PRAVÁ PRACOVNÁ PLOCHA -->
        <Grid Grid.Column="1" Background="White" x:Name="mainArea">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- horný panel -->
                <RowDefinition Height="*"/>
                <!-- tabuľky -->
                <RowDefinition Height="Auto"/>
                <!-- KONZOLA -->
                <RowDefinition Height="Auto"/>
                <!-- spodný status -->
            </Grid.RowDefinitions>

            <!-- horný panel (voliteľný) -->
            <DockPanel Grid.Row="0" Margin="8" LastChildFill="False">
                <TextBlock Text="Zoznamy" FontSize="16" FontWeight="SemiBold" Margin="0,0,12,0"/>
            </DockPanel>

            <!-- tabuľkové zobrazenie -->
            <TabControl Grid.Row="1" x:Name="tabLists" Margin="8">
                <TabItem Header="Osoby">
                    <DataGrid x:Name="dgPersons"
                      AutoGenerateColumns="True"
                      IsReadOnly="True"
                      CanUserAddRows="False"
                      EnableRowVirtualization="True"
                      EnableColumnVirtualization="True"
                      SelectionMode="Extended"
                      Margin="0"
                      AlternationCount="2"/>
                </TabItem>
                <TabItem Header="PCR testy">
                    <DataGrid x:Name="dgPcrs"
                      AutoGenerateColumns="True"
                      IsReadOnly="True"
                      CanUserAddRows="False"
                      EnableRowVirtualization="True"
                      EnableColumnVirtualization="True"
                      SelectionMode="Extended"
                      Margin="0"
                      AlternationCount="2"/>
                </TabItem>
            </TabControl>

            <!-- GUI konzola -->
            <Grid Grid.Row="2" Margin="8,0,8,8">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="120"/>
                    <!-- výška konzoly -->
                </Grid.RowDefinitions>

                <DockPanel Grid.Row="0" LastChildFill="False" Margin="0,0,0,4">
                    <TextBlock Text="Konzola" FontWeight="SemiBold" Margin="0,0,12,0"/>
                    <Button Content="Vyčistiť" Click="BtnClearConsole_Click" Padding="8,2" />
                </DockPanel>

                <TextBox x:Name="txtConsole"
                 Grid.Row="1"
                 IsReadOnly="True"
                 AcceptsReturn="True"
                 TextWrapping="NoWrap"
                 VerticalScrollBarVisibility="Auto"
                 HorizontalScrollBarVisibility="Auto"/>
            </Grid>

            <!-- spodný status riadok -->
            <StatusBar Grid.Row="3">
                <StatusBarItem>
                    <TextBlock x:Name="txtStatus" Text="Pripravené" />
                </StatusBarItem>
            </StatusBar>
        </Grid>
    </Grid>
</Window>